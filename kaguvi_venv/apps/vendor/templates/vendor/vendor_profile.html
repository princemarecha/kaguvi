{%extends 'core/base.html'%}


{%block title%}Become Vendor | {%endblock%}

{%block content%}
<div class="shadow p-2">
<h1 style="color:white" class="p-2">Vendor Profile</h1>

    <button class="btn btn-secondary" onclick="getLocation()">Get Location</button>
    <p style="color:white;">Click to use your current location</p>
    <p  class="mt-5" style="color:green; font-style:italic;" id="demo"></p>
    <p style="color:yellow;">Field "Color" refers to your map pin color</p>
    <p style="color:yellow;">Field "Title" is your company name</p>
    <p style="color:yellow;">Field "Subtitle" is your tagline or category</p>
    <p style="color:yellow;">Field "Address" is your company address</p>

<form method="post"> {% csrf_token %}
    {{ form.as_p }}

    <input class="btn btn-success mt-3" onclick="myFunction()" type="submit" value="Save"/>
</form>
    <p class="mt-3" style="color:yellow;">"Useful links"</p>
    <p><a style="color:orange; font-weight:bold;" href="https://support.google.com/maps/answer/18539?hl=en&co=GENIE.Platform%3DDesktop">Learn How to grab coordinates from map</a></p>
    <p><a style="color:orange; font-weight:bold;" href="http://maps.google.com/">Google Maps</a></p>
    <p style="font-style:italic;">First digits before comma("latitude"),Digits after comma("longitude") </p>


</div>
<script>
function myFunction() {


var a = 1;
var length = document.getElementById("id_vendor").options.length;

  for (let i= 1; i<length;i++)
        {
            if (document.getElementById("id_vendor").options[i].text == ("{{request.user.username}}") )
            {
            document.getElementById("id_vendor").selectedIndex = i;
            }
        }
}

</script>
<script>
var x = document.getElementById("demo");

    function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
        } else {
            x.innerHTML = "Geolocation is not supported by this browser.";
        }
    }
        function showPosition(position) {

        var lat  = position.coords.latitude;
        var long = position.coords.longitude;

        document.getElementById("id_latitude").value = lat;
        document.getElementById("id_longitude").value = long;

    }

</script>
<style>
#id_address{
margin-left:100px;
}
#id_latitude{
margin-left:98px;
}
#id_longitude{
margin-left:86px;
}
#id_color{
margin-left:116px;
}
#id_title{
margin-left:127px;
}
#id_subTitle{
margin-left:103px;
}
#id_vendor{
display:none;
}


    .turnoff{
        display:none;
        }
@media only screen and (max-width:400px){
  #id_address{
margin-left:0px;
}
#id_latitude{
margin-left:0px;
}
#id_longitude{
margin-left:0px;
}
#id_color{
margin-left:0px;
}
#id_title{
margin-left:0px;
}
#id_subTitle{
margin-left:0px;
}

    }
</style>
{%endblock%}